<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Module khepri_cluster</title>
<link rel="stylesheet" type="text/css" href="edoc-extensions.css" title="EDoc">
<link rel="icon" href="khepri-favicon.svg" type="image/svg+xml">
</head>
<body class="markdown-body language-erlang"><script src="prism.js"></script>
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module khepri_cluster</h1>
<ul class="index"><li><a href="#description">Description</a></li><li><a href="#types">Data Types</a></li><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>Khepri service and cluster management API.


<h2><a name="description">Description</a></h2><p>Khepri service and cluster management API.</p>
 
  <p>This module provides the public API for the service and cluster management.
  For convenience, some functions of this API are repeated in the <a docgen-rel="seeerl" docgen-href="khepri" href="khepri.html"><code>khepri</code></a> module for easier access.</p>
 
  <h3><a name="The_Khepri_store_and_the_Ra_cluster">The Khepri store and the Ra cluster</a></h3>
 
  <p>A Khepri store is a Ra server inside a Ra cluster. The Khepri store and the  
Ra cluster share the same name in fact. The only constraint is that the name  
must be an atom, even though Ra accepts other Erlang types as cluster names.</p>
 
  <p>By default, Khepri uses <code>khepri</code> as the store ID (and thus Ra cluster name).
  This default can be overridden using an argument to the <code>start()</code> functions
  or the <code>default_store_id</code> application environment variable.</p>
 
  Examples:
  <ul>
  <li>Use the default Khepri store ID:
  <pre><code>{ok, khepri} = khepri:start().</code></pre></li>
  <li>Override the default store ID using an argument:
  <pre><code>{ok, my_store} = khepri:start("/var/lib/khepri", my_store).</code></pre></li>
  <li>Override the default store ID using an application environment variable:
  <pre><code>ok = application:set_env(
       khepri, default_store_id, my_store, [{persistent, true}]),
 
{ok, my_store} = khepri:start().</code></pre></li>
  </ul>
 
  <h3><a name="The_data_directory_and_the_Ra_system">The data directory and the Ra system</a></h3>
 
  <p>A Ra server relies on a Ra system to provide various functions and to  
configure the directory where the data should be stored on disk.</p>
 
  <p>By default, Khepri will configure its own Ra system to write data under
  <code>khepri#Nodename</code> in the current working directory, where <code>Nodename</code> is  
the name of the Erlang node.</p>
 
  <pre><code>{ok, StoreId} = khepri:start().
 
%% If the Erlang node was started without distribution (the default), the
%% statement above will start a Ra system called like the store (`khepri')
%% and will use the `khepri#nonode@nohost' directory.</code></pre>
 
  <p>The default data directory or Ra system name can be overridden using an
  argument to the <code>start()</code> or the <code>default_ra_system</code> application environment  
variable. Both a directory (string or binary) or the name of an already  
running Ra system are accepted.</p>
 
  Examples:
  <ul>
  <li>Override the default with the name of a running Ra system using an
  argument:
  <pre><code>{ok, StoreId} = khepri:start(my_ra_system).</code></pre></li>
  <li>Override the default data directory using an application environment
  variable:
  <pre><code>ok = application:set_env(
       khepri, default_ra_system, "/var/lib/khepri", [{persistent, true}]),
 
{ok, StoreId} = khepri:start().</code></pre></li>
  </ul>
 
  <p>Please refer to <a href="https://github.com/rabbitmq/ra">Ra
  documentation</a> to learn more about Ra systems and Ra clusters.</p>
 
  <h3><a name="Managing_Ra_cluster_members">Managing Ra cluster members</a></h3>
 
  <p>A Khepri/Ra cluster can be expanded by telling a node to join a remote  
cluster. Note that the Khepri store/Ra server to add to the cluster must run  
before it can join.</p>
 
  <pre><code>%% Start the local Khepri store.
{ok, StoreId} = khepri:start().
 
%% Join a remote cluster.
ok = khepri_cluster:join(RemoteNode).</code></pre>
 
  <p>To remove the local Khepri store node from the cluster, it must be reset.</p>
 
  <pre><code>%% Start the local Khepri store.
ok = khepri_cluster:reset().</code></pre>
<h2><a name="types">Data Types</a></h2>

<h3 class="typedecl"><a name="type-incomplete_ra_server_config">incomplete_ra_server_config()</a></h3>
<p><code>incomplete_ra_server_config() = map()</code></p>
<p><p>  A Ra server config map.</p>
 
  This configuration map can lack the required parameters, Khepri will fill
  them if necessary. Important parameters for Khepri (e.g. <code>machine</code>) will be
  overridden anyway.
 </p>

<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#start-0">start/0</a></td><td>Starts a store.</td></tr>
<tr><td valign="top"><a href="#start-1">start/1</a></td><td>Starts a store.</td></tr>
<tr><td valign="top"><a href="#start-2">start/2</a></td><td>Starts a store.</td></tr>
<tr><td valign="top"><a href="#start-3">start/3</a></td><td>Starts a store.</td></tr>
<tr><td valign="top"><a href="#stop-0">stop/0</a></td><td>Stops a store.</td></tr>
<tr><td valign="top"><a href="#stop-1">stop/1</a></td><td>Stops a store.</td></tr>
<tr><td valign="top"><a href="#join-1">join/1</a></td><td>Adds the local running Khepri store to a remote cluster.</td></tr>
<tr><td valign="top"><a href="#join-2">join/2</a></td><td>Adds the local running Khepri store to a remote cluster.</td></tr>
<tr><td valign="top"><a href="#reset-0">reset/0</a></td><td>Resets the store on this Erlang node.</td></tr>
<tr><td valign="top"><a href="#reset-1">reset/1</a></td><td>Resets the store on this Erlang node.</td></tr>
<tr><td valign="top"><a href="#reset-2">reset/2</a></td><td>Resets the store on this Erlang node.</td></tr>
<tr><td valign="top"><a href="#get_default_ra_system_or_data_dir-0">get_default_ra_system_or_data_dir/0</a></td><td>Returns the default Ra system name or data directory.</td></tr>
<tr><td valign="top"><a href="#get_default_store_id-0">get_default_store_id/0</a></td><td>Returns the default Khepri store ID.</td></tr>
<tr><td valign="top"><a href="#members-1">members/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#members-2">members/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#locally_known_members-1">locally_known_members/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#locally_known_members-2">locally_known_members/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#nodes-1">nodes/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#locally_known_nodes-1">locally_known_nodes/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#get_store_ids-0">get_store_ids/0</a></td><td>Returns the list of running stores.</td></tr>
<tr><td valign="top"><a href="#is_store_running-1">is_store_running/1</a></td><td>Indicates if <code>StoreId</code> is running or not.</td></tr>
<tr><td valign="top"><a href="#get_cached_leader-1">get_cached_leader/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#cache_leader-2">cache_leader/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#cache_leader_if_changed-3">cache_leader_if_changed/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#clear_cached_leader-1">clear_cached_leader/1</a></td><td></td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="start-0">start/0</a></h3>
<div class="spec">
<p><code>start() -&gt; Ret</code>
<ul class="definitions"><li><code>Ret = <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-ok">khepri:ok</a>(StoreId) | <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-error">khepri:error()</a></code></li><li><code>StoreId = <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-store_id">khepri:store_id()</a></code></li></ul></p>
<p></p>
</div><p><p>Starts a store.</p>
 
  Calling this function is the same as calling <code>start(DefaultRaSystem)</code> where
  <code>DefaultRaSystem</code> is returned by <a docgen-rel="seemfa" docgen-href="#get_default_ra_system_or_data_dir/0" href="#get_default_ra_system_or_data_dir-0"><code>get_default_ra_system_or_data_dir/0</code></a>.
 </p>
<p><b>See also:</b> <a href="#start-1">start/1</a>, <a href="ra_server.html#type-ra_server_config">ra_server:ra_server_config()</a>.</p>

<h3 class="function"><a name="start-1">start/1</a></h3>
<div class="spec">
<p><code>start(RaSystemOrDataDir::RaSystem | DataDir) -&gt; Ret</code>
<ul class="definitions"><li><code>RaSystem = atom()</code></li><li><code>DataDir = <a href="/home/runner/work/khepri/kernel/doc/file.html#type-filename_all">file:filename_all()</a></code></li><li><code>Ret = <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-ok">khepri:ok</a>(StoreId) | <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-error">khepri:error()</a></code></li><li><code>StoreId = <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-store_id">khepri:store_id()</a></code></li></ul></p>
<p></p>
</div><p><p>Starts a store.</p>
 
  Calling this function is the same as calling <code>start(RaSystemOrDataDir,
  DefaultStoreId)</code> where <code>DefaultStoreId</code> is returned by <a docgen-rel="seemfa" docgen-href="#get_default_store_id/0" href="#get_default_store_id-0"><code>get_default_store_id/0</code></a>.
 </p>
<p><b>See also:</b> <a href="#start-2">start/2</a>.</p>

<h3 class="function"><a name="start-2">start/2</a></h3>
<div class="spec">
<p><code>start(RaSystemOrDataDir::RaSystem | DataDir, StoreIdOrRaServerConfig::StoreId | RaServerConfig) -&gt; Ret</code>
<ul class="definitions"><li><code>RaSystem = atom()</code></li><li><code>DataDir = <a href="/home/runner/work/khepri/kernel/doc/file.html#type-filename_all">file:filename_all()</a></code></li><li><code>StoreId = <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-store_id">khepri:store_id()</a></code></li><li><code>RaServerConfig = <a href="#type-incomplete_ra_server_config">incomplete_ra_server_config()</a></code></li><li><code>Ret = <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-ok">khepri:ok</a>(StoreId) | <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-error">khepri:error()</a></code></li></ul></p>
<p></p>
</div><p><p>Starts a store.</p>
 
  Calling this function is the same as calling <code>start(RaSystemOrDataDir,
  StoreIdOrRaServerConfig, DefaultTimeout)</code> where <code>DefaultTimeout</code> is
  returned by <a docgen-rel="seemfa" docgen-href="khepri_app#get_default_timeout/0" href="khepri_app.html#get_default_timeout-0"><code>khepri_app:get_default_timeout/0</code></a>.
 </p>
<p><b>See also:</b> <a href="#start-3">start/3</a>.</p>

<h3 class="function"><a name="start-3">start/3</a></h3>
<div class="spec">
<p><code>start(RaSystemOrDataDir::RaSystem | DataDir, StoreIdOrRaServerConfig::StoreId | RaServerConfig, Timeout) -&gt; Ret</code>
<ul class="definitions"><li><code>RaSystem = atom()</code></li><li><code>DataDir = <a href="/home/runner/work/khepri/kernel/doc/file.html#type-filename_all">file:filename_all()</a></code></li><li><code>StoreId = <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-store_id">khepri:store_id()</a></code></li><li><code>RaServerConfig = <a href="#type-incomplete_ra_server_config">incomplete_ra_server_config()</a></code></li><li><code>Timeout = timeout()</code></li><li><code>Ret = <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-ok">khepri:ok</a>(StoreId) | <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-error">khepri:error()</a></code></li></ul></p>
<p></p>
<p>returns: the ID of the started store in an "ok" tuple, or an error tuple if
  the store couldn't be started.</p>
</div><p><p>Starts a store.</p>
 
  <p>It accepts either a Ra system name (atom) or a data directory (string or  
binary) as its first argument. If a Ra system name is given, that Ra system  
must be running when this function is called. If a data directory is given,  
a new Ra system will be started, using this directory. The directory will  
be created automatically if it doesn't exist. The Ra system will use the  
same name as the Khepri store.</p>
 
  <p>It accepts a Khepri store ID or a Ra server configuration as its second  
argument. If a store ID is given, a Ra server configuration will be created  
based on it. If a Ra server configuration is given, the name of the Khepri  
store will be derived from it.</p>
 
  <p>If this is a new store, the Ra server is started and an election is  
triggered so that it becomes its own leader and is ready to process  
commands and queries.</p>
 
  If the store was started in the past and stopped, it will be restarted. In
  this case, <code>RaServerConfig</code> will be ignored. Ra will take care of the
  eletion automatically.
 </p>

<h3 class="function"><a name="stop-0">stop/0</a></h3>
<div class="spec">
<p><code>stop() -&gt; Ret</code>
<ul class="definitions"><li><code>Ret = ok | <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-error">khepri:error()</a></code></li></ul></p>
<p></p>
</div><p><p>Stops a store.</p>
 
  Calling this function is the same as calling <code>stop(DefaultStoreId)</code>
  where <code>DefaultStoreId</code> is returned by <a docgen-rel="seemfa" docgen-href="#get_default_store_id/0" href="#get_default_store_id-0"><code>get_default_store_id/0</code></a>.
 </p>
<p><b>See also:</b> <a href="#stop-1">stop/1</a>.</p>

<h3 class="function"><a name="stop-1">stop/1</a></h3>
<div class="spec">
<p><code>stop(StoreId) -&gt; Ret</code>
<ul class="definitions"><li><code>StoreId = <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-store_id">khepri:store_id()</a></code></li><li><code>Ret = ok | <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-error">khepri:error()</a></code></li></ul></p>
<p><code>StoreId</code>: the ID of the store to stop.
 <br>
</p>
<p>returns: <code>ok</code> if it succeeds, an error tuple otherwise.</p>
</div><p>Stops a store.
 </p>

<h3 class="function"><a name="join-1">join/1</a></h3>
<div class="spec">
<p><code>join(RemoteNode::RemoteMember | RemoteNode) -&gt; Ret</code>
<ul class="definitions"><li><code>RemoteMember = <a href="/home/runner/work/khepri/ra/doc/ra.html#type-server_id">ra:server_id()</a></code></li><li><code>RemoteNode = node()</code></li><li><code>Ret = ok | <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-error">khepri:error()</a></code></li></ul></p>
<p></p>
</div><p><p>Adds the local running Khepri store to a remote cluster.</p>
 
  This function accepts the following forms:
  <ul>
  <li><code>join(RemoteNode)</code>. Calling it is the same as calling
  <code>join(DefaultStoreId, RemoteNode)</code> where <code>DefaultStoreId</code> is
  returned by <a docgen-rel="seemfa" docgen-href="#get_default_store_id/0" href="#get_default_store_id-0"><code>get_default_store_id/0</code></a>.</li>
  <li><code>join(RemoteMember)</code>. Calling it is the same as calling
  <code>join(StoreId, RemoteNode)</code> where <code>StoreId</code> and <code>RemoteNode</code> are
  derived from <code>RemoteMember</code>.</li>
  </ul>
 </p>
<p><b>See also:</b> <a href="#join-2">join/2</a>.</p>

<h3 class="function"><a name="join-2">join/2</a></h3>
<div class="spec">
<p><code>join(RemoteNode::RemoteMember | RemoteNode | StoreId, Timeout::Timeout | RemoteNode) -&gt; Ret</code>
<ul class="definitions"><li><code>RemoteMember = <a href="/home/runner/work/khepri/ra/doc/ra.html#type-server_id">ra:server_id()</a></code></li><li><code>RemoteNode = node()</code></li><li><code>StoreId = <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-store_id">khepri:store_id()</a></code></li><li><code>Timeout = timeout()</code></li><li><code>Ret = ok | <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-error">khepri:error()</a></code></li></ul></p>
<p></p>
</div><p><p>Adds the local running Khepri store to a remote cluster.</p>
 
  This function accepts the following forms:
  <ul>
  <li><code>join(RemoteNode, Timeout)</code>. Calling it is the same as calling
  <code>join(DefaultStoreId, RemoteNode, Timeout)</code> where <code>DefaultStoreId</code>
  is returned by <a docgen-rel="seemfa" docgen-href="#get_default_store_id/0" href="#get_default_store_id-0"><code>get_default_store_id/0</code></a>.</li>
  <li><code>join(StoreId, RemoteNode)</code>. Calling it is the same as calling
  <code>join(StoreId, RemoteNode, DefaultTimeout)</code> where <code>DefaultTimeout</code> is
  returned by <a docgen-rel="seemfa" docgen-href="khepri_app#get_default_timeout/0" href="khepri_app.html#get_default_timeout-0"><code>khepri_app:get_default_timeout/0</code></a>.</li>
  <li><code>join(RemoteMember, Timeout)</code>. Calling it is the same as calling
  <code>join(StoreId, RemoteNode, Timeout)</code> where <code>StoreId</code> and
  <code>RemoteNode</code> are derived from <code>RemoteMember</code>.</li>
  </ul>
 </p>
<p><b>See also:</b> <a href="#join-3">join/3</a>.</p>

<h3 class="function"><a name="reset-0">reset/0</a></h3>
<div class="spec">
<p><code>reset() -&gt; Ret</code>
<ul class="definitions"><li><code>Ret = ok | <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-error">khepri:error()</a></code></li></ul></p>
<p></p>
</div><p>Resets the store on this Erlang node.</p>

<h3 class="function"><a name="reset-1">reset/1</a></h3>
<div class="spec">
<p><code>reset(Timeout::StoreId | Timeout) -&gt; Ret</code>
<ul class="definitions"><li><code>StoreId = <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-store_id">khepri:store_id()</a></code></li><li><code>Timeout = timeout()</code></li><li><code>Ret = ok | <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-error">khepri:error()</a></code></li></ul></p>
<p></p>
</div><p>Resets the store on this Erlang node.</p>

<h3 class="function"><a name="reset-2">reset/2</a></h3>
<div class="spec">
<p><code>reset(StoreId, Timeout) -&gt; Ret</code>
<ul class="definitions"><li><code>StoreId = <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-store_id">khepri:store_id()</a></code></li><li><code>Timeout = timeout()</code></li><li><code>Ret = ok | <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-error">khepri:error()</a></code></li></ul></p>
<p><code>StoreId</code>: the name of the Khepri store.<br>
</p>
</div><p><p>Resets the store on this Erlang node.</p>
 
  <p>It does that by force-deleting the Ra local server.</p>
 
  This function is also used to gracefully remove the local Khepri store node
  from a cluster.
 </p>

<h3 class="function"><a name="get_default_ra_system_or_data_dir-0">get_default_ra_system_or_data_dir/0</a></h3>
<div class="spec">
<p><code>get_default_ra_system_or_data_dir() -&gt; RaSystem | DataDir</code>
<ul class="definitions"><li><code>RaSystem = atom()</code></li><li><code>DataDir = <a href="/home/runner/work/khepri/kernel/doc/file.html#type-filename_all">file:filename_all()</a></code></li></ul></p>
<p></p>
<p>returns: the value of the <code>default_ra_system</code> application environment
  variable.</p>
</div><p><p>Returns the default Ra system name or data directory.</p>
 
  <p>This is based on Khepri's <code>default_ra_system` application environment
  variable. The variable can be set to:
  &lt;ul&gt;
  &lt;li&gt;A directory (a string or binary) where data should be stored. A new Ra
  system called `khepri` will be initialized with this directory.&lt;/li&gt;
  &lt;li&gt;A Ra system name (an atom). In this case, the user is expected to
  configure and start the Ra system before starting Khepri.&lt;/li&gt;
  &lt;/ul&gt;
 
  If this application environment variable is unset, the default is to
  configure a Ra system called `khepri</code> which will write data in
  <code>"khepri-$NODE"</code> in the current working directory where <code>$NODE</code> is the  
Erlang node name.</p>
 
  Example of an Erlang configuration file for Khepri:
  <pre><code>{khepri, [{default_ra_system, "/var/db/khepri"}]}.</code></pre>
 </p>

<h3 class="function"><a name="get_default_store_id-0">get_default_store_id/0</a></h3>
<div class="spec">
<p><code>get_default_store_id() -&gt; StoreId</code>
<ul class="definitions"><li><code>StoreId = <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-store_id">khepri:store_id()</a></code></li></ul></p>
<p></p>
<p>returns: the value of the <code>default_store_id</code> application environment
  variable.</p>
</div><p><p>Returns the default Khepri store ID.</p>
 
  This is based on Khepri's <code>default_store_id</code> application environment
  variable. The variable can be set to an atom. The default is <code>khepri</code>.
 </p>

<h3 class="function"><a name="members-1">members/1</a></h3>
<div class="spec">
<p><code>members(StoreId) -&gt; any()</code></p>
<p></p>
</div>

<h3 class="function"><a name="members-2">members/2</a></h3>
<div class="spec">
<p><code>members(StoreId, Timeout) -&gt; any()</code></p>
<p></p>
</div>

<h3 class="function"><a name="locally_known_members-1">locally_known_members/1</a></h3>
<div class="spec">
<p><code>locally_known_members(StoreId) -&gt; any()</code></p>
<p></p>
</div>

<h3 class="function"><a name="locally_known_members-2">locally_known_members/2</a></h3>
<div class="spec">
<p><code>locally_known_members(StoreId, Timeout) -&gt; any()</code></p>
<p></p>
</div>

<h3 class="function"><a name="nodes-1">nodes/1</a></h3>
<div class="spec">
<p><code>nodes(StoreId) -&gt; any()</code></p>
<p></p>
</div>

<h3 class="function"><a name="locally_known_nodes-1">locally_known_nodes/1</a></h3>
<div class="spec">
<p><code>locally_known_nodes(StoreId) -&gt; any()</code></p>
<p></p>
</div>

<h3 class="function"><a name="get_store_ids-0">get_store_ids/0</a></h3>
<div class="spec">
<p><code>get_store_ids() -&gt; [StoreId]</code>
<ul class="definitions"><li><code>StoreId = <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-store_id">khepri:store_id()</a></code></li></ul></p>
<p></p>
</div><p>Returns the list of running stores.</p>

<h3 class="function"><a name="is_store_running-1">is_store_running/1</a></h3>
<div class="spec">
<p><code>is_store_running(StoreId) -&gt; IsRunning</code>
<ul class="definitions"><li><code>StoreId = <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-store_id">khepri:store_id()</a></code></li><li><code>IsRunning = boolean()</code></li></ul></p>
<p></p>
</div><p>Indicates if <code>StoreId</code> is running or not.</p>

<h3 class="function"><a name="get_cached_leader-1">get_cached_leader/1</a></h3>
<div class="spec">
<p><code>get_cached_leader(StoreId) -&gt; Ret</code>
<ul class="definitions"><li><code>StoreId = <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-store_id">khepri:store_id()</a></code></li><li><code>Ret = LeaderId | undefined</code></li><li><code>LeaderId = <a href="/home/runner/work/khepri/ra/doc/ra.html#type-server_id">ra:server_id()</a></code></li></ul></p>
<p></p>
</div>

<h3 class="function"><a name="cache_leader-2">cache_leader/2</a></h3>
<div class="spec">
<p><code>cache_leader(StoreId, LeaderId) -&gt; ok</code>
<ul class="definitions"><li><code>StoreId = <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-store_id">khepri:store_id()</a></code></li><li><code>LeaderId = <a href="/home/runner/work/khepri/ra/doc/ra.html#type-server_id">ra:server_id()</a></code></li></ul></p>
<p></p>
</div>

<h3 class="function"><a name="cache_leader_if_changed-3">cache_leader_if_changed/3</a></h3>
<div class="spec">
<p><code>cache_leader_if_changed(StoreId, LeaderId, NewLeaderId) -&gt; ok</code>
<ul class="definitions"><li><code>StoreId = <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-store_id">khepri:store_id()</a></code></li><li><code>LeaderId = <a href="/home/runner/work/khepri/ra/doc/ra.html#type-server_id">ra:server_id()</a></code></li><li><code>NewLeaderId = <a href="/home/runner/work/khepri/ra/doc/ra.html#type-server_id">ra:server_id()</a></code></li></ul></p>
<p></p>
</div>

<h3 class="function"><a name="clear_cached_leader-1">clear_cached_leader/1</a></h3>
<div class="spec">
<p><code>clear_cached_leader(StoreId) -&gt; ok</code>
<ul class="definitions"><li><code>StoreId = <a href="/home/runner/work/khepri/khepri/doc/khepri.html#type-store_id">khepri:store_id()</a></code></li></ul></p>
<p></p>
</div>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc</i></p>
</body>
</html>
